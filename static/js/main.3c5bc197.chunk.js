(this.webpackJsonpapocrypta=this.webpackJsonpapocrypta||[]).push([[0],{12:function(e,n,t){"use strict";(function(e){t.d(n,"a",(function(){return o}));var c=t(7),r=t(8),a=t(14),i=t(13),o=function(n){Object(a.a)(o,n);var t=Object(i.a)(o);function o(){var e;Object(c.a)(this,o);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).name="base64",e}return Object(r.a)(o,[{key:"encode",value:function(n){return e.from(n).toString("base64")}},{key:"decode",value:function(n){return e.from(n,"base64").toString()}}]),o}(t(2).a)}).call(this,t(25).Buffer)},2:function(e,n,t){"use strict";t.d(n,"a",(function(){return l}));var c=t(7),r=t(8),a=t(17),i=t.n(a),o=i.a.mark(s);function s(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e;case 1:return t.next=4,n++;case 4:t.next=1;break;case 6:case"end":return t.stop()}}),o)}var u=s(0),l=function(){function e(){Object(c.a)(this,e),this.name="clear",this.id=void 0,this.id=u.next().value}return Object(r.a)(e,[{key:"encode",value:function(e){return e}},{key:"decode",value:function(e){return e}}]),e}()},23:function(e,n,t){},24:function(e,n,t){},31:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var c=t(0),r=t.n(c),a=t(6),i=t.n(a),o=(t(23),t(4)),s=t(3),u=t(5),l=t(10),d=(t(24),t(12)),b=t(2),f=t(7),h=t(8),j=t(14),p=t(13),v={a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7,i:8,j:9,k:10,l:11,m:12,n:13,o:14,p:15,q:16,r:17,s:18,t:19,u:20,v:21,w:22,x:23,y:24,z:25},g=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],O=function(e){return function(n){return n in v?g[function(e,n){return(e+n)%n}(v[n]+e,g.length)]:n}},x=function(e){Object(j.a)(t,e);var n=Object(p.a)(t);function t(){var e;Object(f.a)(this,t);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(e=n.call.apply(n,[this].concat(r))).name="shift",e.settings={value:1},e}return Object(h.a)(t,[{key:"encode",value:function(e){var n=O(this.settings.value);return e.split("").map(n).join("")}},{key:"decode",value:function(e){var n=O(-1*this.settings.value);return e.split("").map(n).join("")}}]),t}(b.a),m=["clear","base64","shift"],w={clear:function(){return new b.a},base64:function(){return new d.a},shift:function(){return new x}},k=(t(31),t(1));function y(e){var n=e.value,t=e.onChange,r=Object(c.useCallback)((function(e){return t(e.target.value)}),[t]);return Object(k.jsx)("select",{className:"cipherbox-select",value:n,onChange:r,children:m.map((function(e){return Object(k.jsx)("option",{value:e,children:e},e)}))})}var C=t.p+"static/media/close.4200050a.svg",N=t.p+"static/media/done.0db08473.svg",S=t.p+"static/media/settings.e8bcb32b.svg",T=function(e,n,t){switch(typeof n){case"number":return Object(k.jsx)("input",{type:"number",value:n,onChange:function(n){return t(e,Number(n.target.value))}});default:return null}},W=function(e){var n=e.cipher,t=e.value,r=e.onTextChange,a=e.index,i=e.onClose,u=e.onTypeChange,d=e.onSettingChange,b=Object(c.useState)(!1),f=Object(s.a)(b,2),h=f[0],j=f[1],p=Object(c.useCallback)((function(e){return r(e.target.value)}),[r]);return Object(k.jsx)(l.b,{draggableId:n.id.toString(),index:a,children:function(e){return Object(k.jsxs)("div",Object(o.a)(Object(o.a)(Object(o.a)({className:"cipherbox",ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:[Object(k.jsxs)("div",{className:"cipherbox-titlebar",children:[Object(k.jsx)(y,{value:n.name,onChange:u}),Object(k.jsx)("div",{className:"cipherbox-handle"}),n.settings&&Object(k.jsx)("button",{className:"cipherbox-button",onClick:function(){return j(!h)},children:h?Object(k.jsx)("img",{src:N,alt:"Done"}):Object(k.jsx)("img",{src:S,alt:"Settings"})}),Object(k.jsx)("button",{className:"cipherbox-button",onClick:i,children:Object(k.jsx)("img",{src:C,alt:"Close"})})]}),h&&n.settings?Object(k.jsx)("div",{className:"cipherbox-settings",children:Object.entries(n.settings).map((function(e){var n=Object(s.a)(e,2),t=n[0],c=n[1];return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("label",{children:t}),T(t,c,d)]})}))}):Object(k.jsx)("textarea",{className:"cipherbox-content",value:t,onChange:p})]}))}})},P=[new b.a,new x,new d.a],A=P.map((function(){return""})),F=function(){var e=Object(c.useState)(P),n=Object(s.a)(e,2),t=n[0],r=n[1],a=Object(c.useState)(A),i=Object(s.a)(a,2),d=i[0],f=i[1],h=Object(c.useCallback)((function(e,n){var c=Object(u.a)(d);c[n]=e;for(var r=n;r>0;r--)c[r-1]=t[r].decode(c[r]);for(var a=n;a<t.length-1;a++)c[a+1]=t[a+1].encode(c[a]);f(c)}),[t,d]);return Object(k.jsxs)("div",{className:"app",children:[Object(k.jsx)("header",{className:"app-header",children:Object(k.jsx)("h1",{children:"Apocrypta"})}),Object(k.jsxs)("main",{className:"cipherlist-container",children:[Object(k.jsx)(l.a,{onDragEnd:function(e){if(e.destination&&e.destination.index!==e.source.index){var n=function(e,n,t){var c=Object(u.a)(e),r=c.splice(n,1),a=Object(s.a)(r,1)[0];return c.splice(t,0,a),c}(t,e.source.index,e.destination.index);r(n)}},children:Object(k.jsx)(l.c,{droppableId:"cipherlist",direction:"horizontal",children:function(e){return Object(k.jsxs)("div",Object(o.a)(Object(o.a)({className:"cipherbox-container",ref:e.innerRef},e.droppableProps),{},{children:[t.map((function(e,n){return Object(k.jsx)(W,{index:n,cipher:e,value:d[n],onTypeChange:function(e){var c=Object(u.a)(t),a=w[e]();c.splice(n,1,a),r(c)},onTextChange:function(e){return h(e,n)},onSettingChange:function(e,c){var a=Object(u.a)(t),i=a[n];i.settings&&(i.settings[e]=c),a.splice(n,1,i),r(a)},onClose:function(){var e=Object(u.a)(t);e.splice(n,1),r(e)}},e.id)})),e.placeholder]}))}})}),Object(k.jsx)("button",{onClick:function(){return r([].concat(Object(u.a)(t),[new b.a]))},children:"+"})]}),Object(k.jsx)("footer",{children:"footer"})]})},B=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function E(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var I=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,38)).then((function(n){var t=n.getCLS,c=n.getFID,r=n.getFCP,a=n.getLCP,i=n.getTTFB;t(e),c(e),r(e),a(e),i(e)}))};i.a.render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(F,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/apocrypta",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/apocrypta","/service-worker.js");B?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var c=t.headers.get("content-type");404===t.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):E(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):E(n,e)}))}}(),I()}},[[37,1,2]]]);
//# sourceMappingURL=main.3c5bc197.chunk.js.map