(this.webpackJsonpapocrypta=this.webpackJsonpapocrypta||[]).push([[0],[,,,,,,,,,,,,,function(e,n,t){"use strict";t.d(n,"a",(function(){return u}));var c=t(6),a=t(24),i=t.n(a),r=i.a.mark(o);function o(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e;case 1:return t.next=4,n++;case 4:t.next=1;break;case 6:case"end":return t.stop()}}),r)}var l=o(0),u=function e(n){Object(c.a)(this,e),this.name=void 0,this.id=void 0,this.direction="encode",this.id=n||l.next().value}},,,function(e,n,t){"use strict";(function(e){t.d(n,"a",(function(){return o}));var c=t(6),a=t(10),i=t(12),r=t(11),o=function(n){Object(i.a)(o,n);var t=Object(r.a)(o);function o(){var e;Object(c.a)(this,o);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).name="Base64",e}return Object(a.a)(o,[{key:"encode",value:function(n){return e.from(n).toString("base64")}},{key:"decode",value:function(n){return e.from(n,"base64").toString()}}]),o}(t(13).a)}).call(this,t(34).Buffer)},,,,,,,,,,,,,function(e,n,t){},,,,,,,,,,,function(e,n,t){},,function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var c,a=t(0),i=t.n(a),r=t(9),o=t.n(r),l=(t(29),t(5)),u=t(4),s=t(8),d=function(e){return"settings"in e},h=t(16),p=t(6),f=t(10),j=t(12),b=t(11),v=t(13),O=function(e){Object(j.a)(t,e);var n=Object(b.a)(t);function t(){var e;Object(p.a)(this,t);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(e=n.call.apply(n,[this].concat(a))).name="Clear",e}return Object(f.a)(t,[{key:"encode",value:function(e){return e}},{key:"decode",value:function(e){return e}}]),t}(v.a),g=t(15),m=Object.freeze(["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"]),x=Object.freeze(Object(g.a)(m.map((function(e){return e.toUpperCase()})))),C=(Object.freeze({a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7,i:8,j:9,k:10,l:11,m:12,n:13,o:14,p:15,q:16,r:17,s:18,t:19,u:20,v:21,w:22,x:23,y:24,z:25}),function(e,n){return function(t){var c=n.find((function(e){return e.includes(t)}));return c?c[function(e,n){return(e+n)%n}(c.indexOf(t)+e,c.length)]:t}}),y=function(e,n){return e.map((function(e){return C(e,n)}))},w=[m,x],k=function(e){Object(j.a)(t,e);var n=Object(b.a)(t);function t(){var e;Object(p.a)(this,t);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(e=n.call.apply(n,[this].concat(a))).name="Shift",e.settings={value:1},e}return Object(f.a)(t,[{key:"encode",value:function(e){var n=C(this.settings.value,w);return e.split("").map(n).join("")}},{key:"decode",value:function(e){var n=C(-1*this.settings.value,w);return e.split("").map(n).join("")}}]),t}(v.a),I=[m,x],N=function(e){Object(j.a)(t,e);var n=Object(b.a)(t);function t(){var e;Object(p.a)(this,t);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(e=n.call.apply(n,[this].concat(a))).name="Vignere",e.settings={value:"abc"},e}return Object(f.a)(t,[{key:"encode",value:function(e){var n=this.settings.value.split("").map((function(e){var n,t=null===(n=I.find((function(n){return n.includes(e)})))||void 0===n?void 0:n.indexOf(e);return(void 0===t?0:t)+1})),t=y(n,I);return e.split("").map((function(e,n){return t[n%t.length](e)})).join("")}},{key:"decode",value:function(e){var n=this.settings.value.split("").map((function(e){var n,t=null===(n=I.find((function(n){return n.includes(e)})))||void 0===n?void 0:n.indexOf(e);return-1*((void 0===t?0:t)+1)})),t=y(n,I);return e.split("").map((function(e,n){return t[n%t.length](e)})).join("")}}]),t}(v.a),S=(c={},Object(s.a)(c,(new O).name,O),Object(s.a)(c,(new h.a).name,h.a),Object(s.a)(c,(new k).name,k),Object(s.a)(c,(new N).name,N),c),V=Object.freeze(Object.keys(S)),A=function(e,n){return new S[e](n)},P=function(e){return Object(u.a)({name:e.name,id:e.id,direction:e.direction},d(e)?{settings:e.settings}:{})},E=function(e){var n=A(e.name,e.id);return n.direction=e.direction,d(n)&&d(e)&&(n.settings=e.settings),n},W=t(18),z=t(7),D=t(20);(new h.a).direction="decode",(new k).direction="decode";var R={rootValue:"Experience is the teacher of all things.",calculations:[{ciphers:[P(new k),P(new h.a)],result:""}]},B=Object(D.b)({name:"calculations",initialState:R,reducers:{addCalculation:function(e,n){e.calculations.push({ciphers:n.payload.ciphers,result:""})},removeCalculation:function(e,n){e.calculations.splice(n.payload.index,1)},moveCalculation:function(e,n){var t=e.calculations.splice(n.payload.fromIndex,1),c=Object(z.a)(t,1)[0];e.calculations.splice(n.payload.toIndex,0,c)},addCipher:function(e,n){e.calculations[n.payload.calculationIndex].ciphers.push(n.payload.cipher)},removeCipher:function(e,n){e.calculations[n.payload.calculationIndex].ciphers.splice(n.payload.cipherIndex,1)},moveCipher:function(e,n){var t=e.calculations[n.payload.calculationIndex].ciphers.splice(n.payload.fromIndex,1),c=Object(z.a)(t,1)[0];e.calculations[n.payload.calculationIndex].ciphers.splice(n.payload.toIndex,0,c)},setCipherName:function(e,n){e.calculations[n.payload.calculationIndex].ciphers[n.payload.cipherIndex]=P(A(n.payload.name))},setCipherDirection:function(e,n){e.calculations[n.payload.calculationIndex].ciphers[n.payload.cipherIndex].direction=n.payload.direction},setCipherSettings:function(e,n){var t=e.calculations[n.payload.calculationIndex].ciphers[n.payload.cipherIndex];d(t)&&(t.settings=Object(u.a)(Object(u.a)({},t.settings),n.payload.settings))},recalculate:function(e){e.calculations.forEach((function(n,t){n.result=n.ciphers.reduce((function(e,n){return"encode"===n.direction?E(n).encode(e):E(n).decode(e)}),0===t?e.rootValue:e.calculations[t-1].result)}))},setRootValue:function(e,n){e.rootValue=n.payload}}}),F=B.actions,L=F.addCalculation,M=(F.removeCalculation,F.moveCalculation,F.recalculate),T=F.setRootValue,U=F.addCipher,q=F.removeCipher,J=F.moveCipher,H=F.setCipherDirection,$=F.setCipherSettings,G=F.setCipherName,K=B.reducer,Q=t.p+"static/media/close.4200050a.svg",X=t.p+"static/media/settings.e8bcb32b.svg",Y=(t(40),t(1));function Z(e){var n=e.icon,t=e.title,c=e.onClick;return Object(Y.jsx)("button",{className:"btn-img",onClick:c,title:t,children:Object(Y.jsx)("img",{src:n,alt:t})})}t(42);function _(e){var n=e.direction,t=e.onChange;return Object(Y.jsx)("button",{className:"cipherdirection ".concat(n),onClick:function(){return t("decode"===n?"encode":"decode")},children:"decode"===n?"dec":"enc"})}t(43);function ee(e){var n=e.title,t=e.onClose,c=e.children;return Object(Y.jsx)("div",{className:"modal-backdrop",onClick:t,children:Object(Y.jsxs)("div",{className:"modal-body",onClick:function(e){return e.stopPropagation()},children:[Object(Y.jsx)("h2",{className:"modal-title",children:n}),c]})})}t(44);function ne(e){var n=e.value,t=e.values,c=e.onChange,i=Object(a.useCallback)((function(e){return c(e.target.value)}),[c]);return Object(Y.jsx)("select",{className:"select",value:n,onChange:i,children:t.map((function(e){return Object(Y.jsx)("option",{value:e,children:e},e)}))})}t(45);function te(e){var n=e.title,t=e.value,c=e.onChange,i=e.labelled,r=Object(a.useCallback)((function(e){c(Number(e.target.value))}),[c]);return i?Object(Y.jsxs)("div",{className:"input input-number",children:[Object(Y.jsx)("label",{className:"input-title",children:n}),Object(Y.jsx)("input",{className:"input-field",type:"number",value:t,onChange:r})]}):Object(Y.jsx)("input",{className:"input-field",type:"number",value:t,onChange:r})}t(46);var ce=function(e,n,t){var c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];switch(typeof n){case"number":return Object(Y.jsx)(te,{title:e,value:n,onChange:function(n){return t(e,n)},labelled:c},e);default:return null}};function ae(e){var n=e.cipher,t=e.onSettingChange;return Object(Y.jsx)(Y.Fragment,{children:Object.entries(n.settings).map((function(e){var n=Object(z.a)(e,2),c=n[0],a=n[1];return ce(c,a,t)}))})}t(47);function ie(e){var n=e.cipher,t=e.onNameChange,c=e.onDirectionChange,i=e.onSettingChange,o=e.onClose,l=e.index,s=Object(a.useState)(!1),h=Object(z.a)(s,2),p=h[0],f=h[1],j=d(n)&&1===Object.keys(n.settings).length;return Object(Y.jsx)(W.b,{draggableId:n.id.toString(),index:l,children:function(e){return Object(Y.jsxs)("div",Object(u.a)(Object(u.a)(Object(u.a)({className:"cipherarrow",ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:[Object(Y.jsxs)("div",{className:"cipherarrow-iconlist",children:[Object(Y.jsx)(Z,{icon:Q,onClick:o,title:"Remove"}),d(n)&&!j&&Object(Y.jsx)(Z,{icon:X,onClick:function(){return f(!0)},title:"Settings"})]}),Object(Y.jsx)("div",{className:"cipherarrow-wrapper",children:Object(Y.jsxs)("div",{className:"cipherarrow-display",children:[Object(Y.jsx)(_,{direction:n.direction,onChange:c}),Object(Y.jsx)(ne,{value:n.name,values:V,onChange:function(e){return t(e)}}),d(n)&&j&&ce.apply(void 0,Object(g.a)(Object.entries(n.settings)[0]).concat([i]))]})}),p&&Object(r.createPortal)(Object(Y.jsx)(ee,{title:"Settings",onClose:function(){return f(!1)},children:Object(Y.jsx)(ae,{cipher:n,onSettingChange:i})}),document.getElementById("modal-root"))]}))}})}t(48);var re=function(e){var n=e.value,t=e.onValueChange,c=Object(a.useCallback)((function(e){return t(e.target.value)}),[t]);return Object(Y.jsxs)("div",{className:"cipherbox",children:[Object(Y.jsx)("div",{className:"cipherbox-titlebar",children:Object(Y.jsx)("div",{className:"cipherbox-handle"})}),Object(Y.jsx)("textarea",{className:"cipherbox-content",value:n,onChange:c})]})};t(49);function oe(e){var n=e.calculation,t=e.calculationIndex,c=Object(l.c)(),i=Object(a.useCallback)((function(e){e.destination&&e.destination.index!==e.source.index&&c(J({calculationIndex:t,fromIndex:e.source.index,toIndex:e.destination.index}))}),[t,c]);return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(W.a,{onDragEnd:i,children:Object(Y.jsx)(W.c,{droppableId:"cipherlist",direction:"horizontal",children:function(e){return Object(Y.jsxs)("div",Object(u.a)(Object(u.a)({className:"cipherbox-container",ref:e.innerRef},e.droppableProps),{},{children:[n.ciphers.map((function(e,n){return Object(Y.jsx)(ie,{index:n,cipher:e,onNameChange:function(e){return c(G({calculationIndex:t,cipherIndex:n,name:e}))},onSettingChange:function(e,a){return c($({calculationIndex:t,cipherIndex:n,settings:Object(s.a)({},e,a)}))},onClose:function(){return c(q({calculationIndex:t,cipherIndex:n}))},onDirectionChange:function(e){return c(H({calculationIndex:t,cipherIndex:n,direction:e}))}},e.id)})),e.placeholder]}))}})}),Object(Y.jsx)("button",{className:"btn-addcipher",onClick:function(){return c(U({calculationIndex:t,cipher:P(new O)}))},children:"+"}),Object(Y.jsx)(re,{value:n.result,onValueChange:function(){}})]})}t(50);function le(){return Object(Y.jsx)("footer",{className:"app-footer",children:"Made by me."})}t(51);var ue="Apocrypta",se=function(){return m[(e=0,n=m.length,Math.floor(Math.random()*(n-e)+e))];var e,n};function de(){var e=Object(a.useState)(new Array(ue.length).fill("").map(se)),n=Object(z.a)(e,2),t=n[0],c=n[1],i=Object(a.useState)(0),r=Object(z.a)(i,2),o=r[0],l=r[1];return Object(a.useEffect)((function(){var e=setInterval((function(){var n=[];l(o+.1);for(var a=0;a<t.length;a++)a<o?n.push(ue[a]):n.push(se());c(n),o===t.length&&clearInterval(e)}),500/(10*ue.length));return function(){return clearInterval(e)}})),Object(Y.jsx)("header",{className:"app-header",children:Object(Y.jsx)("h1",{className:"app-title",children:t.map((function(e,n){return Object(Y.jsx)("span",{className:"app-title-letter",children:e},n)}))})})}var he=t(14),pe=function(e){return e.calculations},fe=Object(he.a)(pe,(function(e){return e.rootValue})),je=Object(he.a)(pe,(function(e){return e.calculations})),be=(t(52),function(){var e=Object(l.c)(),n=Object(l.d)(fe),t=Object(l.d)(je);return Object(Y.jsxs)("div",{className:"app dark",children:[Object(Y.jsx)(de,{}),Object(Y.jsxs)("main",{className:"cipherlist-container",children:[Object(Y.jsx)(re,{value:n,onValueChange:function(n){e(T(n))}}),t.map((function(e,n){return Object(Y.jsx)(oe,{calculation:e,calculationIndex:n},n)})),Object(Y.jsx)("button",{className:"btn-addcalculation",onClick:function(){return e(L({ciphers:[P(new O)]}))},children:"+"})]}),Object(Y.jsx)(le,{}),Object(Y.jsx)("div",{id:"modal-root"})]})}),ve=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Oe(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ge=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,54)).then((function(n){var t=n.getCLS,c=n.getFID,a=n.getFCP,i=n.getLCP,r=n.getTTFB;t(e),c(e),a(e),i(e),r(e)}))},me=t(3),xe=Object(me.c)({calculations:K}),Ce=[function(e){return function(e){return function(n){e(n),["calculations/moveCipher","calculations/setRootValue","calculations/moveCalculation","calculations/setCipherName","calculations/setCipherDirection","calculations/setCipherSettings"].includes(n.type)&&ye.dispatch(M())}}}],ye=Object(D.a)({reducer:xe,middleware:function(e){return[].concat(Object(g.a)(e()),Ce)}});function we(e){var n=e.children;return Object(Y.jsx)(l.a,{store:ye,children:n})}o.a.render(Object(Y.jsx)(i.a.StrictMode,{children:Object(Y.jsx)(we,{children:Object(Y.jsx)(be,{})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/apocrypta",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/apocrypta","/service-worker.js");ve?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var c=t.headers.get("content-type");404===t.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Oe(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Oe(n,e)}))}}(),ge()}],[[53,1,2]]]);
//# sourceMappingURL=main.4831f095.chunk.js.map