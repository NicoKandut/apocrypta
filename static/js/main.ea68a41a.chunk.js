(this.webpackJsonpapocrypta=this.webpackJsonpapocrypta||[]).push([[0],[,,,,,,,,,,,,,,,function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var c=t(8),a=t(24),i=t.n(a),r=i.a.mark(o);function o(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e;case 1:return t.next=4,n++;case 4:t.next=1;break;case 6:case"end":return t.stop()}}),r)}var l=o(0),s=function e(n){Object(c.a)(this,e),this.name=void 0,this.id=void 0,this.direction="encode",this.id=n||l.next().value}},function(e,n,t){"use strict";(function(e){t.d(n,"a",(function(){return o}));var c=t(8),a=t(11),i=t(14),r=t(12),o=function(n){Object(i.a)(o,n);var t=Object(r.a)(o);function o(){var e;Object(c.a)(this,o);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).name="Base64",e}return Object(a.a)(o,[{key:"encode",value:function(n){return e.from(n).toString("base64")}},{key:"decode",value:function(n){return e.from(n,"base64").toString()}}]),o}(t(15).a)}).call(this,t(34).Buffer)},,,,,,,,,,,,,function(e,n,t){},,,,,,,,,,,function(e,n,t){},,function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var c,a=t(0),i=t.n(a),r=t(7),o=t.n(r),l=(t(29),t(5)),s=t(4),u=t(9),d=function(e){return"settings"in e},h=t(16),p=t(8),f=t(11),j=t(14),b=t(12),v=t(15),O=function(e){Object(j.a)(t,e);var n=Object(b.a)(t);function t(){var e;Object(p.a)(this,t);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(e=n.call.apply(n,[this].concat(a))).name="Clear",e}return Object(f.a)(t,[{key:"encode",value:function(e){return e}},{key:"decode",value:function(e){return e}}]),t}(v.a),g=t(13),m=Object.freeze(["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"]),x=Object.freeze(Object(g.a)(m.map((function(e){return e.toUpperCase()})))),C=Object.freeze({a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7,i:8,j:9,k:10,l:11,m:12,n:13,o:14,p:15,q:16,r:17,s:18,t:19,u:20,v:21,w:22,x:23,y:24,z:25}),y=function(e,n){return(e+n)%n},w=function(e){return function(n){return n in C?m[y(C[n]+e,m.length)]:n.toLowerCase()in C?x[y(C[n.toLowerCase()]+e,x.length)]:n}},k=function(e){Object(j.a)(t,e);var n=Object(b.a)(t);function t(){var e;Object(p.a)(this,t);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(e=n.call.apply(n,[this].concat(a))).name="Shift",e.settings={value:1},e}return Object(f.a)(t,[{key:"encode",value:function(e){var n=w(this.settings.value);return e.split("").map(n).join("")}},{key:"decode",value:function(e){var n=w(-1*this.settings.value);return e.split("").map(n).join("")}}]),t}(v.a),I=(c={},Object(u.a)(c,(new O).name,O),Object(u.a)(c,(new h.a).name,h.a),Object(u.a)(c,(new k).name,k),c),N=Object.freeze(Object.keys(I)),S=function(e,n){return new I[e](n)},V=function(e){return Object(s.a)({name:e.name,id:e.id,direction:e.direction},d(e)?{settings:e.settings}:{})},P=function(e){var n=S(e.name,e.id);return n.direction=e.direction,d(n)&&d(e)&&(n.settings=e.settings),n},A=t(18),E=t(6),W=t(20);(new h.a).direction="decode",(new k).direction="decode";var z={rootValue:"Experience is the teacher of all things.",calculations:[{ciphers:[V(new k),V(new h.a)],result:""}]},D=Object(W.b)({name:"calculations",initialState:z,reducers:{addCalculation:function(e,n){e.calculations.push({ciphers:n.payload.ciphers,result:""})},removeCalculation:function(e,n){e.calculations.splice(n.payload.index,1)},moveCalculation:function(e,n){var t=e.calculations.splice(n.payload.fromIndex,1),c=Object(E.a)(t,1)[0];e.calculations.splice(n.payload.toIndex,0,c)},addCipher:function(e,n){e.calculations[n.payload.calculationIndex].ciphers.push(n.payload.cipher)},removeCipher:function(e,n){e.calculations[n.payload.calculationIndex].ciphers.splice(n.payload.cipherIndex,1)},moveCipher:function(e,n){var t=e.calculations[n.payload.calculationIndex].ciphers.splice(n.payload.fromIndex,1),c=Object(E.a)(t,1)[0];e.calculations[n.payload.calculationIndex].ciphers.splice(n.payload.toIndex,0,c)},setCipherName:function(e,n){e.calculations[n.payload.calculationIndex].ciphers[n.payload.cipherIndex]=V(S(n.payload.name))},setCipherDirection:function(e,n){e.calculations[n.payload.calculationIndex].ciphers[n.payload.cipherIndex].direction=n.payload.direction},setCipherSettings:function(e,n){var t=e.calculations[n.payload.calculationIndex].ciphers[n.payload.cipherIndex];d(t)&&(t.settings=Object(s.a)(Object(s.a)({},t.settings),n.payload.settings))},recalculate:function(e){e.calculations.forEach((function(n,t){n.result=n.ciphers.reduce((function(e,n){return"encode"===n.direction?P(n).encode(e):P(n).decode(e)}),0===t?e.rootValue:e.calculations[t-1].result)}))},setRootValue:function(e,n){e.rootValue=n.payload}}}),R=D.actions,B=R.addCalculation,F=(R.removeCalculation,R.moveCalculation,R.recalculate),L=R.setRootValue,M=R.addCipher,T=R.removeCipher,U=R.moveCipher,q=R.setCipherDirection,J=R.setCipherSettings,H=R.setCipherName,$=D.reducer,G=t.p+"static/media/close.4200050a.svg",K=t.p+"static/media/settings.e8bcb32b.svg",Q=(t(40),t(1));function X(e){var n=e.icon,t=e.title,c=e.onClick;return Object(Q.jsx)("button",{className:"btn-img",onClick:c,title:t,children:Object(Q.jsx)("img",{src:n,alt:t})})}t(42);function Y(e){var n=e.direction,t=e.onChange;return Object(Q.jsx)("button",{className:"cipherdirection ".concat(n),onClick:function(){return t("decode"===n?"encode":"decode")},children:"decode"===n?"dec":"enc"})}t(43);function Z(e){var n=e.title,t=e.onClose,c=e.children;return Object(Q.jsx)("div",{className:"modal-backdrop",onClick:t,children:Object(Q.jsxs)("div",{className:"modal-body",onClick:function(e){return e.stopPropagation()},children:[Object(Q.jsx)("h2",{className:"modal-title",children:n}),c]})})}t(44);function _(e){var n=e.value,t=e.values,c=e.onChange,i=Object(a.useCallback)((function(e){return c(e.target.value)}),[c]);return Object(Q.jsx)("select",{className:"select",value:n,onChange:i,children:t.map((function(e){return Object(Q.jsx)("option",{value:e,children:e},e)}))})}t(45);function ee(e){var n=e.title,t=e.value,c=e.onChange,i=e.labelled,r=Object(a.useCallback)((function(e){c(Number(e.target.value))}),[c]);return i?Object(Q.jsxs)("div",{className:"input input-number",children:[Object(Q.jsx)("label",{className:"input-title",children:n}),Object(Q.jsx)("input",{className:"input-field",type:"number",value:t,onChange:r})]}):Object(Q.jsx)("input",{className:"input-field",type:"number",value:t,onChange:r})}t(46);var ne=function(e,n,t){var c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];switch(typeof n){case"number":return Object(Q.jsx)(ee,{title:e,value:n,onChange:function(n){return t(e,n)},labelled:c},e);default:return null}};function te(e){var n=e.cipher,t=e.onSettingChange;return Object(Q.jsx)(Q.Fragment,{children:Object.entries(n.settings).map((function(e){var n=Object(E.a)(e,2),c=n[0],a=n[1];return ne(c,a,t)}))})}t(47);function ce(e){var n=e.cipher,t=e.onNameChange,c=e.onDirectionChange,i=e.onSettingChange,o=e.onClose,l=e.index,u=Object(a.useState)(!1),h=Object(E.a)(u,2),p=h[0],f=h[1],j=d(n)&&1===Object.keys(n.settings).length;return Object(Q.jsx)(A.b,{draggableId:n.id.toString(),index:l,children:function(e){return Object(Q.jsxs)("div",Object(s.a)(Object(s.a)(Object(s.a)({className:"cipherarrow",ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:[Object(Q.jsxs)("div",{className:"cipherarrow-iconlist",children:[Object(Q.jsx)(X,{icon:G,onClick:o,title:"Remove"}),d(n)&&!j&&Object(Q.jsx)(X,{icon:K,onClick:function(){return f(!0)},title:"Settings"})]}),Object(Q.jsx)("div",{className:"cipherarrow-wrapper",children:Object(Q.jsxs)("div",{className:"cipherarrow-display",children:[Object(Q.jsx)(Y,{direction:n.direction,onChange:c}),Object(Q.jsx)(_,{value:n.name,values:N,onChange:function(e){return t(e)}}),d(n)&&j&&ne.apply(void 0,Object(g.a)(Object.entries(n.settings)[0]).concat([i]))]})}),p&&Object(r.createPortal)(Object(Q.jsx)(Z,{title:"Settings",onClose:function(){return f(!1)},children:Object(Q.jsx)(te,{cipher:n,onSettingChange:i})}),document.getElementById("modal-root"))]}))}})}t(48);var ae=function(e){var n=e.value,t=e.onValueChange,c=Object(a.useCallback)((function(e){return t(e.target.value)}),[t]);return Object(Q.jsxs)("div",{className:"cipherbox",children:[Object(Q.jsx)("div",{className:"cipherbox-titlebar",children:Object(Q.jsx)("div",{className:"cipherbox-handle"})}),Object(Q.jsx)("textarea",{className:"cipherbox-content",value:n,onChange:c})]})};t(49);function ie(e){var n=e.calculation,t=e.calculationIndex,c=Object(l.c)(),i=Object(a.useCallback)((function(e){e.destination&&e.destination.index!==e.source.index&&c(U({calculationIndex:t,fromIndex:e.source.index,toIndex:e.destination.index}))}),[t,c]);return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(A.a,{onDragEnd:i,children:Object(Q.jsx)(A.c,{droppableId:"cipherlist",direction:"horizontal",children:function(e){return Object(Q.jsxs)("div",Object(s.a)(Object(s.a)({className:"cipherbox-container",ref:e.innerRef},e.droppableProps),{},{children:[n.ciphers.map((function(e,n){return Object(Q.jsx)(ce,{index:n,cipher:e,onNameChange:function(e){return c(H({calculationIndex:t,cipherIndex:n,name:e}))},onSettingChange:function(e,a){return c(J({calculationIndex:t,cipherIndex:n,settings:Object(u.a)({},e,a)}))},onClose:function(){return c(T({calculationIndex:t,cipherIndex:n}))},onDirectionChange:function(e){return c(q({calculationIndex:t,cipherIndex:n,direction:e}))}},e.id)})),e.placeholder]}))}})}),Object(Q.jsx)("button",{className:"btn-addcipher",onClick:function(){return c(M({calculationIndex:t,cipher:V(new O)}))},children:"+"}),Object(Q.jsx)(ae,{value:n.result,onValueChange:function(){}})]})}t(50);function re(){return Object(Q.jsx)("footer",{className:"app-footer",children:"Made by me."})}t(51);var oe="Apocrypta",le=function(){return m[(e=0,n=m.length,Math.floor(Math.random()*(n-e)+e))];var e,n};function se(){var e=Object(a.useState)(new Array(oe.length).fill("").map(le)),n=Object(E.a)(e,2),t=n[0],c=n[1],i=Object(a.useState)(0),r=Object(E.a)(i,2),o=r[0],l=r[1];return Object(a.useEffect)((function(){var e=setInterval((function(){var n=[];l(o+.1);for(var a=0;a<t.length;a++)a<o?n.push(oe[a]):n.push(le());c(n),o===t.length&&clearInterval(e)}),500/(10*oe.length));return function(){return clearInterval(e)}})),Object(Q.jsx)("header",{className:"app-header",children:Object(Q.jsx)("h1",{className:"app-title",children:t.map((function(e,n){return Object(Q.jsx)("span",{className:"app-title-letter",children:e},n)}))})})}var ue=t(10),de=function(e){return e.calculations},he=Object(ue.a)(de,(function(e){return e.rootValue})),pe=Object(ue.a)(de,(function(e){return e.calculations})),fe=(t(52),function(){var e=Object(l.c)(),n=Object(l.d)(he),t=Object(l.d)(pe);return Object(Q.jsxs)("div",{className:"app dark",children:[Object(Q.jsx)(se,{}),Object(Q.jsxs)("main",{className:"cipherlist-container",children:[Object(Q.jsx)(ae,{value:n,onValueChange:function(n){e(L(n))}}),t.map((function(e,n){return Object(Q.jsx)(ie,{calculation:e,calculationIndex:n},n)})),Object(Q.jsx)("button",{className:"btn-addcalculation",onClick:function(){return e(B({ciphers:[V(new O)]}))},children:"+"})]}),Object(Q.jsx)(re,{}),Object(Q.jsx)("div",{id:"modal-root"})]})}),je=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function be(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ve=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,54)).then((function(n){var t=n.getCLS,c=n.getFID,a=n.getFCP,i=n.getLCP,r=n.getTTFB;t(e),c(e),a(e),i(e),r(e)}))},Oe=t(3),ge=Object(Oe.c)({calculations:$}),me=[function(e){return function(e){return function(n){e(n),["calculations/moveCipher","calculations/setRootValue","calculations/moveCalculation","calculations/setCipherName","calculations/setCipherDirection","calculations/setCipherSettings"].includes(n.type)&&xe.dispatch(F())}}}],xe=Object(W.a)({reducer:ge,middleware:function(e){return[].concat(Object(g.a)(e()),me)}});function Ce(e){var n=e.children;return Object(Q.jsx)(l.a,{store:xe,children:n})}o.a.render(Object(Q.jsx)(i.a.StrictMode,{children:Object(Q.jsx)(Ce,{children:Object(Q.jsx)(fe,{})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/apocrypta",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/apocrypta","/service-worker.js");je?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var c=t.headers.get("content-type");404===t.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):be(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):be(n,e)}))}}(),ve()}],[[53,1,2]]]);
//# sourceMappingURL=main.ea68a41a.chunk.js.map